# Описание API

### Краткое описание 
REST API

Я буду рассматривать на примере кошелек криптовалют. Криптовалюта имеет название и количество в нашем кошельке. Тогда будут запросы: получить информацию о криптовалюте, изменить количество криптовалюты, удалить криптовалюту, добавить новую криптовалюту и получить все криптовалюты в кошельке.

### Представление данных

| Data type | Description | Variable |
| ------ | ------ | ------ |
| int | ID | crypto_id |
| string | Название криптовалюты | crypto_name |
| float | Количество криптовалюты | crypto_amount |

Здесь ID у всех криптовалют будут уникальными. 

### Пример криптовалюты

```json
{
  "crypto_currency": {
    "crypto_id": 12,
    "crypto_name": "ETH",
    "crypto_amount": 0.451
  }
}
```

### Описание возможных запросов

| Query type | URI | Description |
| ------ | ------ | ------ |
|  POST | /crypto_currency/<crypto_id> | Изменить количество криптовалюты |
|  GET | /crypto_currency/<crypto_id> | Получить информацию о количестве криптовалюты в кошельке |
|  DELETE | /crypto_currency/<crypto_id> | Удалить криптовалюту |
|  POST | /crypto_currencies | Добавить новую криптовалюту. Ожидается, что будут переданы поля crypto_name и crypto_amount, а уже crypto_id сгенерируем в сервисе |
| GET | /crypto_currencies | Получить информацию о всех криптовалютах |

# Описание API и каждого возможного запроса отдельно 

### 1. /crypto_currency/<crypto_id> запросы

#### 1.a) Получить информацию о количестве криптовалюты в кошельке (GET)

Результатом будет являться информация о криптовалюте в формате JSON с заданным ID. Если ID не существует или задан некорректно, будут выдаваться соответствующие сообщения.

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, в результате вернется JSON с описанием криптовалюты с заданным ID |
|  Bad request | 400 | Введен некорректный запрос |
|  Not found | 404 | Нет криптовалюты, у которой заданный ID |

#### 1.b) Удалить криптовалюту (DELETE)

Если криптовалюта с таким ID существует, она будет удален. Если такого не было или задан некорректный формат для ID, то будет возвращена соответствующая ошибка.

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, в результате будет удалена криптовалюта с заданным ID |
|  Bad request | 400 | Введен некорректный запрос |
|  Not found | 404 | Нет криптовалюты, у которой заданный ID, ничего не будет удалено |

#### 1.c) Изменить количество криптовалюты в кошельке (POST)

Если криптовалюта с таким ID существует и корректно задано поле нового количества (crypto_amount), то количество криптовалюты с заданным ID будет изменена. Если некорректно заданы параметры или криптовалюты с таким ID не существует, будут возвращены соответствующие ошибки. 

В запросе необходимо передать JSON с параметром <crypto_amount> - новое количество криптовалюты с заданным ID. Например,

```json
{
    "crypto_amount": ["New amount as <float>"]
}
```

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, у криптовалюты с заданным ID было изменено поле отвечающее за количество, будет возвращен JSON криптовалюты с измененным количеством|
|  Bad request | 400 | Некорректный запрос или список передаваемых параметров |
|  Not found | 404 | Нет криптовалюты, у которой заданный ID |

### 2. /crypto_currencies запросы

#### 2.a) Получить информацию о всех криптовалютах (GET)

Результатом будет являться информация о всех криптовалютах в формате JSON.
```json
{
    "crypto_currencies": [
        "crypto_currency": {
          "crypto_id": 12,
          "crypto_name": "ETH",
          "crypto_amount": 0.451
        },
        "crypto_currency": {
          "crypto_id": 13,
          "crypto_name": "BCH",
          "crypto_amount": 1.34
        },
        ...
    ]
}
```

#### 2.b) Добавить новую криптовалюту (POST)

В результате запроса в базу будет добавлен новую криптовалюту, всю информацию про которой нужно передать в JSON. Если поля crypto_name или crypto_amount не будет задано или они заданы некорректно, то новая криптовалюта не будет добавлена.

Если запрос удалось выполнить, возвращается JSON, который будет описывать новую криптовалюту в кошельке. 

| Value | Code | Description |
| ------ | ------ | ------ |
|  OK | 200 | Корректный запрос, будет возвращен JSON, который будет описывать новую криптовалюту |
|  Bad request | 400 | Некорректный запрос или список передаваемых параметров |

